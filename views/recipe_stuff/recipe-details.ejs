<%- include('../includes/boilerplate.ejs') %>
<%- include('../includes/navbar.ejs') %>
<link rel="stylesheet" href="/css_files/details.css">

<br><br>

<div class="container text-center my-4">
    <h1 class="recipe-title"><%= recipeObj.title %></h1>
</div>

<div class="container recipe-details-container my-5">
    <div class="row">
        <!-- Image Column -->
        <div class="col-lg-6 d-flex justify-content-center align-items-center">
            <img src="<%= recipeObj.imageUrl %>" class="img-fluid rounded recipe-image" alt="Recipe Image">
        </div>
    
        <!-- Ingredients Column -->
        <div class="col-lg-6 recipe-details">
            <h2>Ingredients</h2>
            <ul>
                <% for (ingredient of recipeObj.ingredients.split(',')) { %>
                    <li><%= ingredient.trim() %></li>
                <% } %>
            </ul>
        </div>
    </div>
    

    <!-- Recipe Column -->
    <div class="row pt-4">
        <div class="col-lg-12 recipe-details">
            <h2>Recipe</h2>
            <p class="recipe-text"><%= recipeObj.recipe %></p>

            <!-- Review Stars -->
             <div class="rating">
                <% for (let i = 0; i < 5; i++) { %>
                    <span class="fa fa-star" id="star<%= i + 1 %>"></span>
                <% } %>
            </div>


        </div>
    </div>
</div>

<br><br><br>
<br><br>

<%- include('../includes/footer.ejs') %>


<script>
    const stars = document.querySelectorAll('.fa-star');

    stars.forEach((star, index) => {
        star.addEventListener('mouseenter', () => {
            highlightStars(index);
        });

        star.addEventListener('mouseleave', () => {
            removeHighlight();
        });

        star.addEventListener('click', () => {
            // Handle clicking on a star to select rating
        });
    });

    function highlightStars(index) {
        for (let i = 0; i <= index; i++) {
            document.getElementById(`star${i + 1}`).classList.add('checked');
        }
    }

    function removeHighlight() {
        stars.forEach(star => {
            star.classList.remove('checked');
        });
    }
</script>